<div id="fb-root"></div>
<script>(function (d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s);
  js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.4";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<!-- Plasser denne taggen etter den siste del-taggen. -->
<script type="text/javascript">
  (function () {
    var po = document.createElement('script');
    po.type = 'text/javascript';
    po.async = true;
    po.src = 'https://apis.google.com/js/platform.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(po, s);
  })();
</script>

<div class="container-fluid">
  <div class="jumbotron">
    <div class="container-fluid">
      <h1>Welcome to PlayCiv! A multiplayer online boardgame of Civilization from Fantasy Flight Games</h1>

      <p class="lead">
        This site was created for owners of the boardgame to play this wonderful game online.
      </p>

      <iframe width="560" height="315" src="https://www.youtube.com/embed/kxcVbpD38EA" frameborder="0"
              allowfullscreen></iframe>
    </div>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <!-- Responsive ad -->
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-6375020735571940"
         data-ad-slot="9001603009"
         data-ad-format="auto"></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </div>

  <div class="container-fluid">
    <!-- Social media content -->
    <div class="row">
      <h4>Share this site with your friends</h4>
      <ul class="list-inline">
        <li class="col-xs-1">
          <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://playciv.com"
             data-text="Play civilization the boardgame online at" data-via="ShervinAsgari"
             data-hashtags="civilization">Tweet</a>
          <script>!function (d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0], p = /^http:/.test(d.location) ? 'http' : 'https';
            if (!d.getElementById(id)) {
              js = d.createElement(s);
              js.id = id;
              js.src = p + '://platform.twitter.com/widgets.js';
              fjs.parentNode.insertBefore(js, fjs);
            }
          }(document, 'script', 'twitter-wjs');</script>
        </li>
        <li>
          <div class="col-xs-1 fb-share-button" data-href="http://playciv.com" data-layout="button_count"></div>
        </li>
        <li class="col-xs-1">
          <!-- Plasser denne taggen der du vil at delingsknapp skal gjengis. -->
          <div class="g-plus" data-action="share" data-annotation="bubble" data-href="http://playciv.com"></div>
        </li>
      </ul>
    </div>
  </div>


  <div class="container-fluid">
    <div class="row">
      <div class="col-md-6">
        <h2>News - 20.04.2017 - 1vs1 Tournament</h2>

        <p>I am considering starting a tournament where you have to pay money to enter.
          90% the proceeds will go to the top three players, rest 10% will be a fee for hosting and managing the
          tournament. So there more people that enter the tournament, then even more money will
          go towards the prizes. I will not enter the tournament my self, but I will be referee in case of any disbutes.
          I haven't decided how much money we should take to enter the tournament, but I am thinking around 10$Â (ten US
          dollars). Please post your comments in the public chat.</p>
      </div>
      <div class="col-md-6">
        <h2>News - 20.04.2017 - 1vs1 Tournament poll</h2>

        <p>

        <div id="qp_all1045647" style="width:100%;">
          <link href='//fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
          <STYLE>#qp_main1045647 .qp_btna:hover input {
            background: #3ba038 !important
          }

          #qp_main1045647[results='0'] .qp_a:hover {
            background-color: #d8d8d8 !important
          }

          #qp_main1045647[results='0'] .qp_a[sel='1'] {
            background-color: #D4DDFA !important
          }

          #qp_all1045647 {
            max-width: 815px;
            margin: 0 auto;
          }</STYLE>
          <div id="qp_main1045647" fp='578340b3-43' results=0 cmt=0
               style="border-radius:0px;padding:0.8em;margin:0 auto;background-color:#FFF;font-family:'Open Sans', sans-serif,Arial;color:#000;border:1px solid #DBD9D9;max-width:815px;box-sizing:border-box">
            <div style="font-size:1.2em;background-color:#2E2E2E;color:#FFF;font-family:'Open Sans', sans-serif, Arial">
              <div style="line-height:30px;padding:10px 15px">Would you like to play a 1vs1 tournament where you must
                pay to enter, and can win money?
              </div>
            </div>
            <form id="qp_form1045647" action="//www.poll-maker.com/results1045647x578340b3-43" method="post"
                  target="_blank" style="display:inline;margin:0px;padding:0px">
              <div style="padding:0px"><input type=hidden name="qp_d1045647" value="42846.1679282494-42846.1679866753">

                <div
                  style="display:block;color:#6B6B6B;background-color:#e9e7e7;font-family: 'Open Sans', sans-serif, Arial;font-size:1.1em;line-height:1.5;padding: 13px 8px 11px;margin:10px 0px;clear:both;-webkit-transition:background-color 100ms ease-in"
                  class="qp_a"
                  onClick="var c=this.getElementsByTagName('INPUT')[0]; if((!event.target?event.srcElement:event.target).tagName!='INPUT'){c.checked=(c.type=='radio'?true:!c.checked)};var i=this.parentNode.parentNode.parentNode.getElementsByTagName('INPUT');for(var k=0;k!=i.length;k=k+1){i[k].parentNode.parentNode.setAttribute('sel',i[k].checked?1:0)}">
                  <span style="display:block;padding-left:30px;cursor:inherit"><input
                    style="float:left;width:20px;margin-left:-25px;margin-top:2px;padding:0px;height:20px;-webkit-appearance:radio;"
                    name="qp_v1045647" type="radio" value="1"/>Yes</span></div>
                <div
                  style="display:block;color:#6B6B6B;background-color:#e9e7e7;font-family: 'Open Sans', sans-serif, Arial;font-size:1.1em;line-height:1.5;padding: 13px 8px 11px;margin:10px 0px;clear:both;-webkit-transition:background-color 100ms ease-in"
                  class="qp_a"
                  onClick="var c=this.getElementsByTagName('INPUT')[0]; if((!event.target?event.srcElement:event.target).tagName!='INPUT'){c.checked=(c.type=='radio'?true:!c.checked)};var i=this.parentNode.parentNode.parentNode.getElementsByTagName('INPUT');for(var k=0;k!=i.length;k=k+1){i[k].parentNode.parentNode.setAttribute('sel',i[k].checked?1:0)}">
                  <span style="display:block;padding-left:30px;cursor:inherit"><input
                    style="float:left;width:20px;margin-left:-25px;margin-top:2px;padding:0px;height:20px;-webkit-appearance:radio;"
                    name="qp_v1045647" type="radio" value="2"/>No</span></div>
              </div>
              <div style="padding-left:0px;clear:both;margin:1em auto"><a
                style="display:inline-block;box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;-o-box-sizing:border-box;padding-right:5px;text-decoration:none"
                class="qp_btna" href="#"><input name="qp_b1045647"
                                                style="min-width:8.5em;padding:0.5em;background-color:#4ebd4a;font-family: 'Open Sans', sans-serif, Arial;font-size:16px;color:#FFF;cursor:pointer;cursor:hand;border:0px;-webkit-appearance:none;border-radius:0px"
                                                type="submit" btype="v" value="Vote"/></a><a
                style="display:inline-block;box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;-o-box-sizing:border-box;padding-left:5px;text-decoration:none"
                class="qp_btna" href="#"><input name="qp_b1045647"
                                                style="min-width:8.5em;padding:0.5em;background-color:#4ebd4a;font-family: 'Open Sans', sans-serif, Arial;font-size:16px;color:#FFF;cursor:pointer;cursor:hand;border:0px;-webkit-appearance:none;border-radius:0px"
                                                type="submit" btype="r" value="Results"/></a></div>
              <a id="qp_a1045647"
                 style="float:right;font-family:Arial;font-size:10px;color:rgb(0,0,0);text-decoration:none"
                 href="https://www.quiz-maker.com">QuizMaker</a></form>
            <div style="display:none">
              <div id="qp_rp1045647"
                   style="font-size:11px;width:5ex;text-align:right;overflow:hidden;position:absolute;right:5px;height:1.5em;line-height:1.5em"></div>
              <div id="qp_rv1045647"
                   style="font-size:11px;width:0%;line-height:1.5em;text-align:right;color:#FFF;box-sizing:border-box;padding-right:3px"></div>
              <div id="qp_rb1045647"
                   style="font-size:12px;color:rgb(255,255,255);display:block;font-size:12px;padding-right:10px 5px"></div>
              <div id="qp_rva1045647" style="background:#006FB9;border-color:#006FB9"></div>
              <div id="qp_rvb1045647" style="background:#163463;border-color:#163463"></div>
              <div id="qp_rvc1045647" style="background:#5BCFFC;border-color:#1481AB"></div>
            </div>
          </div>
        </div>
        <script src="//scripts.poll-maker.com/3012/scpolls.js" language="javascript"></script>
        </p>
      </div>
    </div>
  </div>

  <div class="padd-top-7 row">
    <div class="col-xs-12">
      <uib-tabset justified="true" type="pills">
        <uib-tab heading="Active Games" class="col-md-3 col-xs-12">
          <div class="table-responsive padd-top-7">
            <input type="text" ng-model="filterContent" alt="Filter the table" placeholder="Search games"/>
            <label> <input type="checkbox" ng-model="onlyMyGames.value" ng-click="gameListCtrl.showMyGames()"> Show my
              games</label>

            <button class="btn btn-lg btn-success pull-right" ng-click="gameListCtrl.openCreateNewGame('md')"
                    ng-show="gameListCtrl.user.loggedIn">Create New Game
            </button>
            <table class="table table-striped table-hover table-condensed text-center">
              <thead>
              <tr>
                <th class="text-center">#</th>
                <th class="text-center">Created</th>
                <th class="text-center">Name</th>
                <th class="text-center">Type</th>
                <th class="text-center">Number of players</th>
                <th class="text-center">Players</th>
                <th class="text-center">Action</th>
              </tr>
              </thead>

              <tbody>
              <!-- Games that are not active anymore should have a light grey background -->
              <tr dir-paginate="game in gameListCtrl.games | filter: filterContent | itemsPerPage: 30"
                  pagination-id="activeGames"
                  class="{{game.active ? 'active' : ''}} fadeIn"
                  ng-class-even="'row-even'" ng-class-odd="'row-odd'">
                <td>{{$index+1}}</td>
                <td>{{game.created | date}}</td>
                <td><a ng-href="#/game/{{game.id}}">{{game.name}}</a></td>
                <td>{{game.type }}</td>
                <td>{{game.numOfPlayers}}</td>
                <td>
            <span ng-repeat="player in game.players">
                {{player.username}}<br/>
            </span>
                </td>
                <td>
                  <a ng-href="#/game/{{game.id}}" id="btnJoinGame"
                     ng-if="(game.numOfPlayers > game.players.length) && gameListCtrl.user.loggedIn && !gameListCtrl.isUserPlaying(game.players)"
                     class="btn btn-info" ng-click="gameListCtrl.joinGame(game)">
                    Join
                  </a>
                </td>
              </tr>
              </tbody>
            </table>
            <dir-pagination-controls pagination-id="activeGames"></dir-pagination-controls>
          </div>
        </uib-tab>
        <uib-tab heading="Most wins" class="col-md-3 col-xs-12">


          <table ng-table="gameListCtrl.winnersList"
                 class="table table-condensed table-hover table-striped  text-center">
            <caption>
              <strong><label style="font-size: 1.5em;">Total number of players:
                {{gameListCtrl.totalNumberOfPlayers}}</label></strong>
            </caption>
            <tr ng-repeat="row in $data track by $index" ng-class-even="'row-even'" ng-class-odd="'row-odd'">
              <td data-title="'Username'" sortable="'username'">{{row.username}}</td>
              <td data-title="'Total wins'" sortable="'totalWins'">{{row.totalWins}}</td>
              <td data-title="'Number of attempts'" sortable="'attempts'">{{row.attempts}}</td>
              <td data-title="'Efficiency'" sortable="'percentWin'">{{row.percentWin}}</td>
            </tr>
          </table>

        </uib-tab>
        <uib-tab heading="Civilization highscore" class="col-md-3 col-xs-12">
          <table ng-table="gameListCtrl.civhighscores"
                 class="table table-condensed table-hover table-striped  text-center">
            <tr ng-repeat="row in $data track by $index" ng-class-even="'row-even'" ng-class-odd="'row-odd'">
              <td data-title="'Civilization'" sortable="'civ'">{{row.civ}}</td>
              <td data-title="'Total wins'" sortable="'totalWins'">{{row.totalWins}}</td>
              <td data-title="'Number of attempts'" sortable="'totalAttempt'">{{row.totalAttempt}}</td>
              <td data-title="'Efficiency'" sortable="'percentWin'">{{row.percentWin}}</td>
            </tr>
          </table>
        </uib-tab>
        <uib-tab heading="Finished Games" class="col-md-4 col-xs-12">
          <div class="table-responsive padd-top-7">
            <table ng-table="gameListCtrl.finishedGamesList"
                   class="table table-condensed table-hover table-striped  text-center">
              <tr ng-repeat="game in $data track by $index" ng-class-even="'row-even'" ng-class-odd="'row-odd'">
                <td data-title="'#'">{{gameListCtrl.getFinishedGamesIndex(game)+1}}</td>
                <td data-title="'Created'" sortable="'created'">{{game.created | date}}</td>
                <td data-title="'Name'" sortable="'name'"><a ng-href="#/game/{{game.id}}">{{game.name}}</a></td>
                <td data-title="'Type'">{{game.type}}</td>
                <td data-title="'Number of players'" sortable="'numOfPlayers'">{{game.numOfPlayers}}</td>
                <td data-title="'Players'">
                   <span ng-repeat="player in game.players">
                      {{player.username}}<br/>
                   </span>
                </td>
              </tr>
            </table>
          </div>
        </uib-tab>
      </uib-tabset>
    </div>
  </div>

  <!-- Modal for create game -->
  <script type="text/ng-template" id="createNewGame.html">
    <div class="modal-header">
      <h3 class="modal-title">Create New Game</h3>
    </div>
    <form name="form" method="post" novalidate="novalidate">
      <div class="modal-body">
        <div class="form-group has-feedback"
             ng-class="form.gamename.$invalid && form.gamename.$dirty ? 'has-error' : ''">
          <label for="gamename" class="control-label">Name</label>
          <input type="text" name="gamename" id="gamename" placeholder="Name of game"
                 aria-describedby="gamenameStatus" aria-hidden="true"
                 required="required" ng-model="registerCtrl.gamename"
                 autofocus class="form-control" minlength="3" ng-minlength="3"/>
        <span ng-show="busy" class="glyphicon glyphicon-refresh rotateIn form-control-feedback"
              aria-hidden="true"></span>

          <div ng-if="form.gamename.$dirty" id="gamenameStatus" ng-messages="form.gamename.$error">
            <div ng-message="required" class="help-block has-error">Name is required</div>
            <div ng-message="isTaken" class="help-block has-error">Name already taken</div>
            <div ng-message="invalidChars" class="help-block has-error">Name may not contain any non-url-safe
              characters
            </div>
            <div ng-message="minlength" class="help-block has-error">Name must be 3 or more characters</div>
          </div>
        </div>

        <div class="form-group has-feedback" ng-class="form.type.$invalid && form.type.$dirty  ? 'has-error' : ''">
          <label for="type" class="control-label">Type</label>
          <select ng-model="registerCtrl.selectedGametype" id="type" name="type" required="required"
                  class="form-control"
                  ng-options="opt as opt.label for opt in registerCtrl.gameTypes">
          </select>
          <span id="typeStatus" ng-if="form.type.$dirty &amp;&amp; form.type.$invalid" class="help-block has-error">Type is required</span>
          <span id="helpBlock" class="help-block">For now we only support Wisdom & Warfare and Fame and Fortune expansion packs.</span>
        </div>

        <div class="form-group" ng-class="form.numOfPlayers.$invalid && form.numOfPlayers.$dirty ? 'has-error' : ''">
          <label for="numOfPlayers" class="control-label">Number of Players</label>
          <input type="number" name="numOfPlayers" id="numOfPlayers" ng-model="registerCtrl.numOfPlayers"
                 placeholder="Number of Players" value="4"
                 required="required" class="form-control" min="2" max="5"/>
        <span ng-if="form.numOfPlayers.$dirty &amp;&amp; form.numOfPlayers.$error.required"
              class="help-block has-error">Enter number of players</span>
        </div>

        <div class="form-group has-feedback" ng-class="form.color.$invalid && form.color.$dirty  ? 'has-error' : ''">
          <label for="color" class="control-label">Color</label>
          <ol class="nya-bs-select form-control" ng-model="registerCtrl.color" required="required" id="color">
            <li value="Blue" class="nya-bs-option">
              <a style="color: #0000ff">
                Blue
              </a>
            </li>
            <li value="Red" class="nya-bs-option">
              <a style="color: red">
                Red
              </a>
            </li>
            <li value="Purple" class="nya-bs-option">
              <a style="color: #800080">
                Purple
              </a>
            </li>
            <li value="Yellow" class="nya-bs-option">
              <a style="color: #ffff00">
                Yellow
              </a>
            </li>
            <li value="Green" class="nya-bs-option">
              <a style="color: #008000">
                Green
              </a>
            </li>
          </ol>
            <span id="colorStatus" ng-if="form.color.$dirty &amp;&amp; form.color.$invalid"
                  class="help-block has-error">Color is required</span>
        </div>
      </div>
      <!-- modal body -->
      <div class="modal-footer">
        <input type="submit" ng-click="createGameOk()" value="Create new game" ng-disabled="form.$invalid"
               class="btn btn-primary"/>
        <button ng-click="registerCancel()" class="btn btn-warning">Cancel</button>
      </div>
    </form>
  </script>

  <div class="row col-xs-12 chat-container" ng-controller="PublicChatController as pc">
    <irontec-simple-chat
      messages="pc.messages"
      username="pc.username"
      input-placeholder-text="You can write here"
      submit-button-text="Send your message"
      title="Public Chat - Must be logged in to chat"
      theme="material"
      submit-function="pc.sendMessage">
    </irontec-simple-chat>
  </div>


</div>

